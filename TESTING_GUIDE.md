# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é LazyBones

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ—Å—Ç–∞–º–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ LazyBones, –≤–∫–ª—é—á–∞—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Ç–µ—Å—Ç–æ–≤ –∏ –∏—Ö –∑–∞–ø—É—Å–∫.

## üéØ –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

### 1. Unit —Ç–µ—Å—Ç—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –∏–∑–æ–ª—è—Ü–∏–∏
**–ü—Ä–∏–º–µ—Ä—ã**: 
- `AutoSendServiceTests` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏
- `CreateReportUseCaseTests` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- `PostRepositoryTests` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- `RegularReportsViewModelTests` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ViewModel –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

### 2. Integration —Ç–µ—Å—Ç—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
**–ü—Ä–∏–º–µ—Ä—ã**:
- `AutoSendIntegrationTests` - –ø–æ–ª–Ω—ã–π flow –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏
- `TelegramIntegrationServiceTests` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

### 3. Architecture —Ç–µ—Å—Ç—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤
**–ü—Ä–∏–º–µ—Ä—ã**:
- `ServiceTests` - –ø—Ä–æ–≤–µ—Ä–∫–∞ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `CoordinatorTests` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –ß–µ—Ä–µ–∑ Xcode
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode
2. –ù–∞–∂–º–∏—Ç–µ `Cmd + U` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
3. –ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ `Cmd + U`

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

#### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:
```bash
xcodebuild -project LazyBones.xcodeproj -scheme LazyBones -destination 'platform=iOS Simulator,name=iPhone 16 Pro' test
```

#### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:
```bash
xcodebuild -project LazyBones.xcodeproj -scheme LazyBones -destination 'platform=iOS Simulator,name=iPhone 16 Pro' test -only-testing:LazyBonesTests/AutoSendServiceTests
```

#### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç–µ—Å—Ç–∞:
```bash
xcodebuild -project LazyBones.xcodeproj -scheme LazyBones -destination 'platform=iOS Simulator,name=iPhone 16 Pro' test -only-testing:LazyBonesTests/AutoSendServiceTests/testLoadAutoSendSettings
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
Tests/
‚îú‚îÄ‚îÄ AutoSendServiceTests.swift          # Unit —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏
‚îú‚îÄ‚îÄ AutoSendIntegrationTests.swift      # Integration —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏
‚îú‚îÄ‚îÄ TelegramIntegrationServiceTests.swift # –¢–µ—Å—Ç—ã Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ ReportStatusManagerTests.swift      # –¢–µ—Å—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏
‚îú‚îÄ‚îÄ NotificationManagerServiceTests.swift # –¢–µ—Å—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ VoiceRecorderTests.swift            # –¢–µ—Å—Ç—ã –∑–∞–ø–∏—Å–∏ –≥–æ–ª–æ—Å–∞
‚îú‚îÄ‚îÄ ArchitectureTests/                  # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ AppCoordinatorTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ CoordinatorTests.swift
‚îÇ   ‚îî‚îÄ‚îÄ ServiceTests.swift
‚îú‚îÄ‚îÄ Data/                               # –¢–µ—Å—Ç—ã Data —Å–ª–æ—è
‚îÇ   ‚îú‚îÄ‚îÄ Mappers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PostMapperTests.swift
‚îÇ   ‚îî‚îÄ‚îÄ Repositories/
‚îÇ       ‚îî‚îÄ‚îÄ PostRepositoryTests.swift
‚îú‚îÄ‚îÄ Domain/                             # –¢–µ—Å—Ç—ã Domain —Å–ª–æ—è
‚îÇ   ‚îî‚îÄ‚îÄ UseCases/
‚îÇ       ‚îî‚îÄ‚îÄ CreateReportUseCaseTests.swift
‚îî‚îÄ‚îÄ Presentation/                       # –¢–µ—Å—Ç—ã Presentation —Å–ª–æ—è
    ‚îî‚îÄ‚îÄ ViewModels/
        ‚îú‚îÄ‚îÄ ReportListViewModelTests.swift
        ‚îî‚îÄ‚îÄ RegularReportsViewModelTests.swift
```

## üîß –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

### 1. Unit —Ç–µ—Å—Ç –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞

```swift
import XCTest
@testable import LazyBones

@MainActor
class MyServiceTests: XCTestCase {
    
    var myService: MyService!
    var mockDependency: MockDependency!
    
    override func setUp() {
        super.setUp()
        mockDependency = MockDependency()
        myService = MyService(dependency: mockDependency)
    }
    
    override func tearDown() {
        myService = nil
        mockDependency = nil
        super.tearDown()
    }
    
    func testMyServiceFunctionality() {
        // Given
        mockDependency.shouldSucceed = true
        
        // When
        let result = myService.performAction()
        
        // Then
        XCTAssertTrue(result)
        XCTAssertTrue(mockDependency.wasCalled)
    }
}
```

### 2. Integration —Ç–µ—Å—Ç

```swift
import XCTest
@testable import LazyBones

@MainActor
class MyIntegrationTests: XCTestCase {
    
    var dependencyContainer: DependencyContainer!
    var serviceA: ServiceA!
    var serviceB: ServiceB!
    
    override func setUp() {
        super.setUp()
        dependencyContainer = DependencyContainer()
        dependencyContainer.registerCoreServices()
        
        serviceA = dependencyContainer.resolve(ServiceA.self)
        serviceB = dependencyContainer.resolve(ServiceB.self)
    }
    
    override func tearDown() {
        dependencyContainer = nil
        serviceA = nil
        serviceB = nil
        super.tearDown()
    }
    
    func testServiceAAndBIntegration() async {
        // Given
        let testData = "test"
        
        // When
        let resultA = await serviceA.process(testData)
        let resultB = await serviceB.process(resultA)
        
        // Then
        XCTAssertNotNil(resultA)
        XCTAssertNotNil(resultB)
        XCTAssertEqual(resultB, "expected_result")
    }
}
```

## üé≠ Mock –æ–±—ä–µ–∫—Ç—ã

### –°–æ–∑–¥–∞–Ω–∏–µ Mock –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

```swift
class MockMyService: MyServiceProtocol {
    var shouldSucceed = true
    var wasCalled = false
    var lastParameter: String?
    
    func performAction(_ parameter: String) async throws -> Bool {
        wasCalled = true
        lastParameter = parameter
        
        if !shouldSucceed {
            throw NSError(domain: "TestError", code: 500, userInfo: nil)
        }
        
        return true
    }
}
```

### Mock –¥–ª—è UserDefaults

```swift
class MockUserDefaultsManager: UserDefaultsManagerProtocol {
    var setCalled = false
    var savedValues: [String: Any] = [:]
    var stringValues: [String: String] = [:]
    var boolValues: [String: Bool] = [:]
    
    func set(_ value: Any?, forKey key: String) {
        setCalled = true
        if let value = value {
            savedValues[key] = value
        }
    }
    
    func string(forKey key: String) -> String? {
        return stringValues[key]
    }
    
    func bool(forKey key: String) -> Bool {
        return boolValues[key] ?? false
    }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏

```swift
func testAutoSendSettings() {
    // Given
    mockUserDefaultsManager.boolValues = ["autoSendToTelegram": true]
    mockUserDefaultsManager.dateValues = ["autoSendTime": Date()]
    
    // When
    autoSendService.loadAutoSendSettings()
    
    // Then
    XCTAssertTrue(autoSendService.autoSendEnabled)
    XCTAssertNotNil(autoSendService.autoSendTime)
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ–≥–æ flow –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏

```swift
func testCompleteAutoSendFlow() async {
    // Given
    autoSendService.autoSendEnabled = true
    telegramService.shouldSucceed = true
    
    let testPost = Post(
        id: UUID(),
        date: Date(),
        goodItems: ["–ö–æ–¥–∏–ª 8 —á–∞—Å–æ–≤"],
        badItems: ["–ù–µ –≥—É–ª—è–ª"],
        published: false,
        voiceNotes: [],
        type: .regular
    )
    
    // When
    autoSendService.performAutoSendReport()
    
    // Then
    try? await Task.sleep(nanoseconds: 1_000_000_000)
    XCTAssertTrue(telegramService.sendMessageCalled)
    XCTAssertNotNil(telegramService.lastSentText)
}
```

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

```bash
xcodebuild -project LazyBones.xcodeproj -scheme LazyBones -destination 'platform=iOS Simulator,name=iPhone 16 Pro' test -enableCodeCoverage YES
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º, –æ—Ç—á–µ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤:
```
~/Library/Developer/Xcode/DerivedData/LazyBones-*/Logs/Test/Test-LazyBones-*.xcresult
```

## üîç –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö

```swift
func testWithLogging() {
    print("üîç Starting test...")
    
    // Given
    let input = "test"
    print("üì• Input: \(input)")
    
    // When
    let result = service.process(input)
    print("üì§ Result: \(result)")
    
    // Then
    XCTAssertNotNil(result)
    print("‚úÖ Test passed!")
}
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

```swift
func testAsyncOperation() async throws {
    // Given
    let expectation = XCTestExpectation(description: "Async operation completed")
    
    // When
    Task {
        let result = await service.asyncOperation()
        XCTAssertNotNil(result)
        expectation.fulfill()
    }
    
    // Then
    await fulfillment(of: [expectation], timeout: 5.0)
}
```

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –¢–µ—Å—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–ª–∞—Å—Å
**–ü—Ä–æ–±–ª–µ–º–∞**: `Could not find 'MyClass' in scope`
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª–∞—Å—Å –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ `public` –∏–ª–∏ `internal`

### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `XCTestExpectation` –∏–ª–∏ `await Task.sleep()`

### 3. Mock –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤–º–µ—Å—Ç–æ mock
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ mock –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

### 4. –¢–µ—Å—Ç –ø–∞–¥–∞–µ—Ç –≤ CI
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø–∞–¥–∞–µ—Ç –≤ CI
**–†–µ—à–µ–Ω–∏–µ**: 
- –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è UI —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∏—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

## üìà –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
```swift
// ‚úÖ –•–æ—Ä–æ—à–æ
func testLoadAutoSendSettings_WhenDataExists_ShouldLoadCorrectly()

// ‚ùå –ü–ª–æ—Ö–æ
func test1()
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞ (AAA Pattern)
```swift
func testMyFunction() {
    // Arrange (Given)
    let input = "test"
    
    // Act (When)
    let result = service.process(input)
    
    // Assert (Then)
    XCTAssertEqual(result, "expected")
}
```

### 3. –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
```swift
override func setUp() {
    super.setUp()
    // –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –ø–æ–ª—É—á–∞–µ—Ç —á–∏—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã
}

override func tearDown() {
    // –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
    super.tearDown()
}
```

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
```swift
func testWithEmptyInput() { /* ... */ }
func testWithNilInput() { /* ... */ }
func testWithVeryLongInput() { /* ... */ }
func testWithSpecialCharacters() { /* ... */ }
```

## üéØ –ü—Ä–∏–º–µ—Ä: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∏

–í–æ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ –º—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫—É:

### 1. Unit —Ç–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
```swift
func testLoadAutoSendSettings() {
    // Given
    mockUserDefaultsManager.boolValues = ["autoSendToTelegram": true]
    mockUserDefaultsManager.dateValues = ["autoSendTime": Date()]
    mockUserDefaultsManager.stringValues = ["lastAutoSendStatus": "Success"]
    
    // When
    autoSendService.loadAutoSendSettings()
    
    // Then
    XCTAssertTrue(autoSendService.autoSendEnabled)
    XCTAssertNotNil(autoSendService.autoSendTime)
    XCTAssertEqual(autoSendService.lastAutoSendStatus, "Success")
}
```

### 2. Integration —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ flow
```swift
func testCompleteAutoSendFlow_RegularReport() async {
    // Given
    autoSendService.autoSendEnabled = true
    telegramService.shouldSucceed = true
    userDefaultsManager.stringValues = ["telegramChatId": "test_chat_id"]
    
    let testPost = Post(
        id: UUID(),
        date: Date(),
        goodItems: ["–ö–æ–¥–∏–ª 8 —á–∞—Å–æ–≤", "–°–¥–µ–ª–∞–ª —Ñ–∏—á—É"],
        badItems: ["–ù–µ –≥—É–ª—è–ª", "–ü—Ä–æ–ø—É—Å—Ç–∏–ª —Å–ø–æ—Ä—Ç"],
        published: false,
        voiceNotes: [],
        type: .regular
    )
    
    let encodedData = try! JSONEncoder().encode([testPost])
    userDefaultsManager.dataValues = ["posts": encodedData]
    
    // When
    autoSendService.performAutoSendReport()
    
    // Then
    try? await Task.sleep(nanoseconds: 1_000_000_000)
    
    XCTAssertTrue(telegramService.sendMessageCalled)
    XCTAssertNotNil(telegramService.lastSentText)
    
    let sentText = telegramService.lastSentText ?? ""
    XCTAssertTrue(sentText.contains("–ö–æ–¥–∏–ª 8 —á–∞—Å–æ–≤"))
    XCTAssertTrue(sentText.contains("–°–¥–µ–ª–∞–ª —Ñ–∏—á—É"))
    XCTAssertTrue(sentText.contains("–ù–µ –≥—É–ª—è–ª"))
    XCTAssertTrue(sentText.contains("–ü—Ä–æ–ø—É—Å—Ç–∏–ª —Å–ø–æ—Ä—Ç"))
}
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [XCTest Framework Documentation](https://developer.apple.com/documentation/xctest)
- [Testing with Xcode](https://developer.apple.com/library/archive/documentation/DeveloperTools/Conceptual/testing_with_xcode/)
- [Swift Testing Best Practices](https://www.swift.org/documentation/testing/)

## ü§ù –í–∫–ª–∞–¥ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

1. **–°–æ–∑–¥–∞–π—Ç–µ unit —Ç–µ—Å—Ç—ã** –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
2. **–î–æ–±–∞–≤—å—Ç–µ integration —Ç–µ—Å—Ç—ã** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
3. **–û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

*–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ—Å—Ç–∞–º–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ LazyBones –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.* 